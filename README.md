# RiskProfile
LLM based evaluation of investor's risk profile

Этот проект строит индивидуальный портрет и риск-профиль инвестора на основе двух уровней признаков:

- **Демографические характеристики:** возраст, пол, образование, доход и другие социально-демографические данные
- **Скрытые психологические паттерны, извлекаемые через визуальные предпочтения**

---

## Ключевые концепции

### Четыре ключевые оси личности:

| Ось           | Полярность         |
|---------------|--------------------|
| Безопасность  | Свобода            |
| Активность    | Расслабление       |
| Порядок       | Хаос               |
| Социальность  | Интроверсия        |

---

## Визуальный стиль

Используется мультяшный реализм во вселенной «Шрека» для отображения 16 сцен, представляющих различные сочетания значений по четырём осям (например, 1-1-2-2 и т.д.)

Для генерации изображений используется API Google Gemini

---

## Распределения переменных

- Возраст (18–80 лет) с учетом сэмплирования по весам:
  - 18–20: 4%
  - 21–45: 70%
  - 46–65: 9%
  - 66–80: 3%
- Пол: 55% мужчин, 45% женщин + редкие категории «другое»
- Образование: высшее – 62%, среднее спец. – 35%, школа – 3%
- Доход: низкий – 10%, средний – 60%, высокий – 30%
- Семейный статус варьируется по возрасту:
  - 18–29: single 60%, married 30%, divorced 5%, widowed 5%
  - 30–45: married 65%, single 20%, divorced 10%, widowed 5%
  - 46+: married 50%, divorced 20%, widowed 10%, single 20%
- Риск-профиль: распределение N(μ=−0.1; σ=0.5), обрезанное и округленное

---

## Источники данных

- «Профиль инвестора в России», 2025
- «Determinants of Private Investors’ Behavior on Russian Stock Market», 2020
- «The Impact of Financial Literacy on the Choice of Financial Instruments by Private Investors in Russian Conditions», 2025

---

## Методология (T-pro-it-1.0)

1. Генерация данных кодом по заданным распределениям
2. Передача профиля в LLM с инструкцией представить себя в роли этого человека и выбрать подходящие картинки

---

## Модели машинного обучения

| № | Модель                    | Описание                                      |
|---|---------------------------|-----------------------------------------------|
| 1 | RF (socdem only)          | Только соцдемография. Минимальный прирост.    |
| 2 | RF (socdem + weighted meta) | Соцдем + агрегированные мета-признаки         |
| 3 | RF (socdem + one-hot meta)  | Соцдем + one-hot мета-признаки из аннотаций   |
| 4 | RF (meta only)             | Только мета-признаки без соцдемографии         |
| 5 | RF (text embeddings)       | Эмбеддинги текстов — заметное улучшение точности |
| 6 | RF (img embeddings)        | Эмбеддинги изображений — близкий к текстовым результат |
| 7 | MLP (text + socdem)        | Нейросеть на текстовых эмбеддингах + соцдем   |
| 8 | MLP (img + socdem)         | Нейросеть на эмбеддингах изображений + соцдем |
| 9 | MLP (socdem clusters)      | Кластеризация соцдемографии с последующим MLP |

---

## Инференс

Запуск модели и визуализация результатов реализованы через Streamlit
